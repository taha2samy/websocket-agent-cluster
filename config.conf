# config.conf (Corrected and Final Version)

[server]
host = 0.0.0.0
port = 8000
# CORRECTED: Keys now match what config.py is reading
redis_command_channel = server_commands
redis_metadata_channel = server_metadata

[databases]
# CORRECTED: Section name from "databses" to "databases"
path = database.db
user_table = user_tokens

[auth]
# Valid modes are "sqlite" or "config"
mode = sqlite

# To use "config" mode:
# 1. Change mode above to "config"
# 2. Uncomment the 'tokens' line below and define your tokens.
# IMPORTANT: This must be valid JSON on a single line.
# tokens = {"your-secret-token-123":{"tags":["news","sports"],"permissions":{"news":{"send":true,"receive":true},"sports":{"send":false,"receive":true}}}}


[message]
type = json

[redis]
host = redis
port = 6379
# CORRECTED: Key name from "channel" to "channel_prefix"
channel_prefix = websocket_channel_